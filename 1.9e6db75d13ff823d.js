"use strict";(self.webpackChunktele_shop_webapp=self.webpackChunktele_shop_webapp||[]).push([[1],{9001:(Q,f,n)=>{n.r(f),n.d(f,{ProductModule:()=>B});var l=n(1635),b=n(3215);var t=n(4650),P=n(529);let Z=(()=>{class i{constructor(e){this.httpClient=e}get(e,r){const o=this.createUrl(e),a=this.createHttpParams(r);return this.httpClient.get(o,{params:a})}post(e,r){const o=this.createUrl(e);return this.httpClient.post(o,r)}postForm(e,r){const o=this.createUrl(e),a=this.createFormData(r);return this.httpClient.post(o,a)}put(e,r){const o=this.createUrl(e);return this.httpClient.put(o,{params:r})}delete(e){const r=this.createUrl(e);return this.httpClient.delete(r)}createUrl(e){return"https://localhost:7211/api"+e}createHttpParams(e){let r=new P.LE;if(!e)return r;for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];if(null==a)continue;r=r.set(o,a+"")}return r}createFormData(e){const r=new FormData;for(const o of Object.keys(e))r.set(o,e[o]??"");return r}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(P.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),y=(()=>{class i{constructor(e){this.api=e,this.mockProductsList={currentPage:1,pageCount:1,pageSize:10,totalItemCount:7,items:[{id:0,name:"Nadic Cream 170 gm",arname:"\u0642\u0634\u0637\u0629 \u0646\u0627\u062f\u0643",price:19.99,category:"Electronics",description:"\u0642\u0634\u0637\u0629 \u0646\u0627\u062f\u0643 170 \u062c\u0645",primaryImageFileName:"\u0642\u0634\u0637\u0629-\u0646\u0627\u062f\u0643-170\u062c\u0645.png",images:[{fileName:"\u0642\u0634\u0637\u0629-\u0646\u0627\u062f\u0643-170\u062c\u0645.png",isPrimary:!0},{fileName:"\u0642\u0634\u0637\u0629-\u0646\u0627\u062f\u0643-170\u062c\u0645.png",isPrimary:!1}]},{id:1,name:"Sample Product 1",arname:"\u062c\u0628\u0646\u0629 \u062c\u0648\u0644\u062f\u064a",price:19.99,category:"Electronics",description:"\u062c\u0628\u0646\u0629 \u062c\u0648\u0644\u062f\u064a \u0645\u062b\u0644\u062b 24\u0642-336\u062c\u0645-24",primaryImageFileName:"\u062c\u0628\u0646\u0629-\u062c\u0648\u0644\u062f\u064a-\u0645\u062b\u0644\u062b-24\u0642-336\u062c\u0645-24.png",images:[{fileName:"\u062c\u0628\u0646\u0629-\u062c\u0648\u0644\u062f\u064a-\u0645\u062b\u0644\u062b-24\u0642-336\u062c\u0645-24.png",isPrimary:!0},{fileName:"\u062c\u0628\u0646\u0629-\u062c\u0648\u0644\u062f\u064a-\u0645\u062b\u0644\u062b-24\u0642-336\u062c\u0645-24.png",isPrimary:!1}]},{id:2,name:"Craft Chees",arname:"\u062c\u0628\u0646\u0629 \u0643\u0631\u0627\u0641\u062a",price:29.99,category:"Clothing",description:"\u062c\u0628\u0646\u0629 \u0643\u0631\u0627\u0641\u062a  \u0634\u064a\u062f\u0631 \u0633\u0647\u0644\u0629 \u0627\u0644\u0641\u062a\u062d 190\u062c\u0645 36 ",primaryImageFileName:"\u062c\u0628\u0646\u0629-\u0643\u0631\u0627\u0641\u062a-\u0634\u064a\u062f\u0631-\u0633\u0647\u0644\u0629-\u0627\u0644\u0641\u062a\u062d-190\u062c\u0645-36.png",images:[{fileName:"\u062c\u0628\u0646\u0629-\u0643\u0631\u0627\u0641\u062a-\u0634\u064a\u062f\u0631-\u0633\u0647\u0644\u0629-\u0627\u0644\u0641\u062a\u062d-190\u062c\u0645-36.png",isPrimary:!0}]},{id:3,name:"Sample Product 3",arname:"\u0645\u0646\u062a\u062c \u062a\u062c\u0631\u064a\u0628\u064a 3   ",price:9.99,category:"Home & Kitchen",description:"Yet another sample product description",primaryImageFileName:"prod (3).png",images:[{fileName:"prod (3).png",isPrimary:!0}]},{id:4,name:"Sample Product 4",arname:"\u0645\u0646\u062a\u062c \u062a\u062c\u0631\u064a\u0628\u064a 4   ",price:49.99,category:"Electronics",primaryImageFileName:"prod (4).png",description:"One more sample product description",images:[{fileName:"prod (4).png",isPrimary:!0}]},{id:5,name:"Sample Product 5",arname:"\u0645\u0646\u062a\u062c \u062a\u062c\u0631\u064a\u0628\u064a 5   ",price:39.99,category:"Clothing",description:"Another product description",primaryImageFileName:"prod (5).png",images:[{fileName:"prod (6).png",isPrimary:!0}]},{id:6,arname:"\u0645\u0646\u062a\u062c \u062a\u062c\u0631\u064a\u0628\u064a 6   ",name:"Sample Product 6",price:59.99,category:"Electronics",description:"Yet another product description",primaryImageFileName:"prod (6).png",images:[{fileName:"prod (7).png",isPrimary:!0}]},{id:7,arname:"\u0645\u0646\u062a\u062c \u062a\u062c\u0631\u064a\u0628\u064a 7   ",name:"Sample Product 7",price:14.99,category:"Home & Kitchen",description:"Final sample product description",primaryImageFileName:"prod (7).png",images:[{fileName:"prod (8).png",isPrimary:!0}]}],firstRowOnPage:1,lastRowOnPage:8,hasPreviousPage:!1,hasNextPage:!1}}getList(e){return this.api.get("/catalog/product/getlist",e)}getDetails(e){return this.api.get("/catalog/Product/GetDetails/"+e.id)}getProductsFake(e,r){return this.mockProductsList}getDetailsFake(e){const r=this.mockProductsList.items.find(a=>a.id===e.id);let o;return r&&(o={id:r.id,name:r.name,price:r.price,category:r.category,description:r.description,arname:r.arname,images:r.images}),o}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Z))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var d=n(6895),x=n(5480),k=n(3504),C=n(3414),O=n(7009),u=n(3081),v=n(4859),L=n(445),S=n(7392),s=n(3546);function I(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"mat-card",2),t._UZ(1,"img",3),t.TgZ(2,"mat-card-content")(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()(),t.TgZ(10,"mat-card-actions")(11,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addItemToCart())}),t.TgZ(12,"mat-icon"),t._uU(13,"add_shopping_cart"),t.qZA(),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.goBack())}),t.TgZ(17,"mat-icon"),t._uU(18,"storefront"),t.qZA(),t._uU(19),t.ALo(20,"translate"),t.qZA()()()}if(2&i){const e=t.oxw();t.Q6J("dir",e.lngDir),t.xp6(1),t.hYB("src","",e.imagesUrl,"/",e.product.images[0].fileName,"",t.LSH),t.xp6(3),t.Oqu("ar"==e.curLang?e.product.arname:e.product.name),t.xp6(2),t.Oqu(t.xi3(7,8,e.product.price,e.currencySetting)),t.xp6(3),t.hij(" ",e.product.description," "),t.xp6(5),t.hij(" ",t.lcZ(15,11,"Add to cart")," "),t.xp6(5),t.hij(" ",t.lcZ(20,13,"Continue shopping")," ")}}let U=(()=>{class i{constructor(e,r,o,a,p,h,J,W){this.route=e,this.productService=r,this.location=o,this.header=a,this.notifier=p,this.cartService=h,this.snackBar=J,this.translate=W,this.currencySetting="USD",this.id="",this.quantity=0,this.imagesUrl="/assets/images/",this.curLang="ar",this.lngDir="rtl"}ngOnInit(){const e=Number(this.route.snapshot.paramMap.get("id"));console.log("curr lang",this.translate.currentLang),this.product=this.productService.getDetailsFake({id:e}),this.header.setHeaderButtonsVisibility(!0),this.lngDir="ar"==this.curLang?"rtl":"ltr"}addItemToCart(){console.log("in add cart"),this.cartService.addToCart(this.product)}setQuantity(e){this.quantity=e}goBack(){this.location.back()}showSuccessSnackBar(){this.snackBar.open("Item successfully added to cart.","Close",{duration:8e3})}showErrorSnackBar(){this.snackBar.open("Failed to add your item to the cart.","Close",{duration:8e3})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.gz),t.Y36(y),t.Y36(d.Ye),t.Y36(x.r),t.Y36(k.l),t.Y36(C.N),t.Y36(O.ux),t.Y36(u.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-details"]],decls:2,vars:1,consts:[["id","container"],["class","product-card",3,"dir",4,"ngIf"],[1,"product-card",3,"dir"],["mat-card-image","","alt","Photo of a product",3,"src"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,I,21,15,"mat-card",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",r.product))},dependencies:[d.O5,v.lW,L.Lv,S.Hw,s.a8,s.dn,s.n5,s.$j,s.hq,s.G2,d.H9,u.X$],styles:[".product-card[_ngcontent-%COMP%]{max-width:400px}button[_ngcontent-%COMP%]{margin:3px!important}mat-card[_ngcontent-%COMP%]{margin:0 1em 2em;border:1px solid lightgray!important}img[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}"]}),i})();var m=n(2289),Y=n(727),F=n(2340),w=n(2673),A=n(9798),T=n(782);let D=(()=>{class i{transform(e,r){return(e=""+(e=e||"")).length<=r?e:`${e.substring(0,r)}...`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"wordWrap",type:i,pure:!0}),i})();function _(i,c){if(1&i&&t._UZ(0,"i",11),2&i){const e=t.oxw().$implicit;t.Q6J("matBadge",e.cnt)}}function M(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.removeFromCart(o))}),t.TgZ(1,"mat-icon",12),t._uU(2,"remove"),t.qZA()()}}const N=function(i){return["/catalog/productdetails",i]};function z(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"mat-grid-tile")(1,"mat-card",3),t._UZ(2,"img",4),t.TgZ(3,"mat-card-content",5)(4,"mat-card-title",6),t._uU(5),t.ALo(6,"wordWrap"),t.qZA(),t.TgZ(7,"mat-card-subtitle"),t._uU(8),t.ALo(9,"currency"),t.qZA()(),t.TgZ(10,"mat-card-actions")(11,"button",7),t.NdJ("click",function(){const a=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.addToCart(a))}),t.TgZ(12,"mat-icon",8),t._uU(13,"add"),t.qZA()(),t.YNc(14,_,1,1,"i",9),t.YNc(15,M,3,0,"button",10),t.qZA()()()}if(2&i){const e=c.$implicit,r=t.oxw();t.xp6(1),t.Q6J("dir",r.lngDir),t.xp6(1),t.hYB("src","",r.imagesUrl,"/",e.primaryImageFileName,"",t.LSH),t.Q6J("routerLink",t.VKq(15,N,e.id)),t.xp6(1),t.Q6J("routerLink",t.VKq(17,N,e.id)),t.xp6(2),t.Oqu("ar"==r.curLang?e.arname:t.xi3(6,9,e.name,35)),t.xp6(3),t.Oqu(t.xi3(9,12,e.price,r.currencySetting)),t.xp6(6),t.Q6J("ngIf",e.cnt&&e.cnt>0),t.xp6(1),t.Q6J("ngIf",e.cnt&&e.cnt>0)}}const H=[{path:"",redirectTo:"products",pathMatch:"full"},{path:"products",component:(()=>{class i{constructor(e,r,o,a,p,h){this.route=e,this.breakpointObserver=r,this.productService=o,this.header=a,this.cartService=p,this.translate=h,this.cols=2,this.length=0,this.pageIndex=0,this.pageSize=10,this.pageSizeOptions=[5,10,20],this.curLang="ar",this.lngDir="rtl",this.imagesUrl=F.N.imagesUrl,this.currencySetting=F.N.currency,this.products=[],this.subscriptions=new Y.w0}onToggleLang(e){"ar"===e?(this.translate.use("ar"),this.curLang=e):(this.translate.use("en"),this.curLang="en")}ngOnInit(){console.log("in main list prod");const e=this.route.snapshot.queryParams.customeLng;console.log("customeLng",e),e?this.onToggleLang(e):this.translate.currentLang&&(this.curLang=this.translate.currentLang),this.getProductsFake(1,this.pageSize),this.header.setHeaderButtonsVisibility(!0),this.subscriptions.add(this.breakpointObserver.observe([m.u3.Handset,m.u3.Tablet,m.u3.Web]).subscribe(r=>{r.matches&&(this.cols=r.breakpoints["(max-width: 599.98px) and (orientation: portrait)"]||r.breakpoints["(max-width: 599.98px) and (orientation: landscape)"]?2:r.breakpoints["(min-width: 1280px) and (orientation: portrait)"]||r.breakpoints["(min-width: 1280px) and (orientation: landscape)"]?4:3)})),this.lngDir="ar"==this.curLang?"rtl":"ltr"}getProductsFake(e,r){let o=this.productService.getProductsFake(e,r);this.products=o.items,this.length=o.totalItemCount+1}getProducts(e,r){console.log("product-list.getProducts()"),this.productService.getList({page:e,pageSize:r}).subscribe(o=>{console.log(`received ${o.totalItemCount} products.`),this.products=o.items,this.length=o.totalItemCount})}loadPage(e){console.log("klfhsla"),this.getProductsFake(e.pageIndex+1,e.pageSize)}trackProduct(e,r){return`${r.id}-${e}`}addToCart(e){const r=this.products.filter(o=>o.id==e.id);console.log("in add cart"),r&&(r[0].cnt&&(r[0].cnt=Number(r[0].cnt)+1),r[0].cnt||(r[0].cnt=1)),this.cartService.addToCart(e)}removeFromCart(e){this.cartService.removeFromCart(e);const r=this.products.filter(o=>o.id==e.id);r&&(r[0].cnt&&(r[0].cnt=Number(r[0].cnt)-1),r[0].cnt||(r[0].cnt=0))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.gz),t.Y36(m.Yg),t.Y36(y),t.Y36(x.r),t.Y36(C.N),t.Y36(u.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-list"]],decls:3,vars:7,consts:[["rowHeight","250px","gutterSize","10px",1,"grid-layout",3,"cols"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],[3,"dir"],["id","card-image show-pointer","title","click to show the details","mat-card-image","","alt","product photo",3,"src","routerLink"],["title","click to show the details",1,"show-pointer",3,"routerLink"],[1,"small-text"],["mat-icon-button","",3,"click"],["color","primary"],[3,"matBadge",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[3,"matBadge"],["color","warn"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-grid-list",0),t.YNc(1,z,16,19,"mat-grid-tile",1),t.qZA(),t.TgZ(2,"mat-paginator",2),t.NdJ("page",function(a){return r.loadPage(a)}),t.qZA()),2&e&&(t.s9C("cols",r.cols),t.xp6(1),t.Q6J("ngForOf",r.products)("ngForTrackBy",r.trackProduct),t.xp6(1),t.Q6J("length",r.length)("pageIndex",r.pageIndex)("pageSize",r.pageSize)("pageSizeOptions",r.pageSizeOptions))},dependencies:[d.sg,d.O5,v.lW,L.Lv,S.Hw,w.k,A.NW,T.Il,T.DX,s.a8,s.dn,s.n5,s.$j,s.hq,s.G2,l.rH,d.H9,D],styles:["mat-grid-list[_ngcontent-%COMP%]{margin:2em 2em 0}mat-card[_ngcontent-%COMP%]{border:1px solid lightgray!important;display:flex;flex-direction:column;max-height:200px;max-width:125px;align-items:center}.mat-card-content[_ngcontent-%COMP%]{margin-bottom:1px}.mat-card-image[_ngcontent-%COMP%]:first-child{margin-top:-10px}.mat-card-image[_ngcontent-%COMP%]{margin:0 0 1px;cursor:pointer}img[_ngcontent-%COMP%]{max-width:140px;max-height:145px;border-bottom:1px solid lightgray;padding-bottom:5px}.grid-layout[_ngcontent-%COMP%]{width:80vw}.small-text[_ngcontent-%COMP%]{font-size:12px}.show-pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),i})()},{path:"productdetails/:id",component:U}];let B=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[b.m,l.Bz.forChild(H)]}),i})()}}]);