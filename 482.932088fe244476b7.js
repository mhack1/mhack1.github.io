"use strict";(self.webpackChunktele_shop_webapp=self.webpackChunktele_shop_webapp||[]).push([[482],{9482:(P,u,i)=>{i.r(u),i.d(u,{PaymentModule:()=>q});var g=i(6895),l=i(4006),c=i(5412),t=i(4650),h=i(4859),C=i(7392),f=i(4144);let Z=(()=>{class a{constructor(e,n){this.dialogRef=e,this.data=n}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(c.so),t.Y36(c.WI))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-address"]],decls:41,vars:10,consts:[["id","swal2-html-container",1,"swal2-html-container",2,"display","block"],["id","name","matInput","","placeholder","Enter name",1,"form-control",3,"ngModel","ngModelChange"],["id","useremail","matInput","","type","email","placeholder","Enter email address",1,"my-3","form-control",3,"ngModel","ngModelChange"],["id","usermobile","matInput","","type","number","placeholder","Enter mobile number",1,"my-3","form-control",3,"ngModel","ngModelChange"],["matInput","","placeholder","Enter your address","id","address_1",1,"form-control","mt-3","mb-3",3,"ngModel","ngModelChange"],["href","javascript:;","title"," Request Location","onclick","return AppInteract.requestLocation(this);"],["placeholder","Enter your address 2 (optional)","matInput","","id","address_2",1,"form-control","mt-3","mb-3",3,"ngModel","ngModelChange"],["id","country_id","matInput","",1,"form-control","mt-3","mb-3",3,"ngModel","ngModelChange"],["value","14"],["value","19"],["value","40"],["value","103"],["value","121"],["value","197"],["value","231"],["value","237"],["value","238"],["value","239"],["id","add_address_state","matInput","",1,"form-control","mt-3","mb-3",3,"ngModel","ngModelChange"],["id","city","matInput","","placeholder","Enter city",1,"form-control",3,"ngModel","ngModelChange"],["id","postcode","matInput","","placeholder","Enter postcode",1,"form-control","mt-3","mb-3",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"input",1),t.NdJ("ngModelChange",function(o){return n.data.name=o}),t.qZA(),t.TgZ(2,"input",2),t.NdJ("ngModelChange",function(o){return n.data.useremail=o}),t.qZA(),t.TgZ(3,"input",3),t.NdJ("ngModelChange",function(o){return n.data.usermobile=o}),t.qZA(),t.TgZ(4,"textarea",4),t.NdJ("ngModelChange",function(o){return n.data.address_1=o}),t.qZA(),t.TgZ(5,"a",5)(6,"mat-icon"),t._uU(7,"my_location"),t.qZA()(),t._UZ(8,"span"),t.TgZ(9,"textarea",6),t.NdJ("ngModelChange",function(o){return n.data.address_2=o}),t.qZA(),t.TgZ(10,"select",7),t.NdJ("ngModelChange",function(o){return n.data.country_id=o}),t.TgZ(11,"option"),t._uU(12,"Select Country"),t.qZA(),t.TgZ(13,"option",8),t._uU(14,"Australia"),t.qZA(),t.TgZ(15,"option",9),t._uU(16,"Bangladesh"),t.qZA(),t.TgZ(17,"option",10),t._uU(18,"Canada"),t.qZA(),t.TgZ(19,"option",11),t._uU(20,"India"),t.qZA(),t.TgZ(21,"option",12),t._uU(22,"Kuwait"),t.qZA(),t.TgZ(23,"option",13),t._uU(24,"Saudi Arabia"),t.qZA(),t.TgZ(25,"option",14),t._uU(26,"Turkey"),t.qZA(),t.TgZ(27,"option",15),t._uU(28,"United Arab Emirates"),t.qZA(),t.TgZ(29,"option",16),t._uU(30,"United Kingdom"),t.qZA(),t.TgZ(31,"option",17),t._uU(32,"United States"),t.qZA()(),t.TgZ(33,"input",18),t.NdJ("ngModelChange",function(o){return n.data.add_address_state=o}),t.qZA(),t.TgZ(34,"input",19),t.NdJ("ngModelChange",function(o){return n.data.city=o}),t.qZA(),t.TgZ(35,"input",20),t.NdJ("ngModelChange",function(o){return n.data.postcode=o}),t.qZA()(),t.TgZ(36,"div",21)(37,"button",22),t.NdJ("click",function(){return n.onNoClick()}),t._uU(38,"No Thanks"),t.qZA(),t.TgZ(39,"button",23),t._uU(40,"Ok"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngModel",n.data.name),t.xp6(1),t.Q6J("ngModel",n.data.useremail),t.xp6(1),t.Q6J("ngModel",n.data.usermobile),t.xp6(1),t.Q6J("ngModel",n.data.address_1),t.xp6(5),t.Q6J("ngModel",n.data.address_2),t.xp6(1),t.Q6J("ngModel",n.data.country_id),t.xp6(23),t.Q6J("ngModel",n.data.add_address_state),t.xp6(1),t.Q6J("ngModel",n.data.city),t.xp6(1),t.Q6J("ngModel",n.data.postcode),t.xp6(4),t.Q6J("mat-dialog-close",n.data))},dependencies:[h.lW,C.Hw,f.Nt,c.ZT,c.H8,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.On]}),a})();var M=i(3414),m=i(3081),y=i(445),d=i(3546),_=i(7331);function A(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-chip",13),t.NdJ("click",function(){const o=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.onChipChange(o.name))}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()}if(2&a){const e=r.$implicit;t.Q6J("value",e.name),t.xp6(2),t.Oqu(e.icon),t.xp6(1),t.hij(" ",t.lcZ(4,3,e.name)," ")}}function T(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-chip",13),t.NdJ("click",function(){const o=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.onChipShippingChange(o.name))}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()}if(2&a){const e=r.$implicit;t.Q6J("value",e.name),t.xp6(2),t.Oqu(e.icon),t.xp6(1),t.hij(" ",t.lcZ(4,3,e.name)," ")}}let b=(()=>{class a{constructor(e,n,s,o){this.cartService=e,this.fb=n,this.dialog=s,this.translate=o,this.cartItems=[],this.flagOnSumitProcess=!1,this.lngDir="ltr",this.curLang="ar",this.availableColors=[{name:"none",color:void 0},{name:"Primary",color:"primary"},{name:"Accent",color:"accent"},{name:"Warn",color:"warn"}],this.shippingMethods=[{name:"From Store",icon:"directions_walk",cost:0},{name:"Dilivery Service",icon:"local_shipping",cost:200}],this.paymentMethods=[{name:"Cash",icon:"attach_money"},{name:"Credit Card",icon:"credit_card"},{name:"Mobile Money",icon:"account_balance_wallet"},{name:"Wallet C",icon:"account_balance"}],this.selectedPayementMethod="",this.selectedShippingMethod="",this.form=this.fb.group({})}passClientToJavaScript(){const e={payemntInfo:this.form.getRawValue(),cartItems:this.cartItems,curLang:this.curLang},n=JSON.stringify(e);this.form.controls.ObjectData.setValue(n),this.flagOnSumitProcess=!0,document.getElementById("with_webview_btn")?.click()}onChipShippingChange(e){console.log("on chip change",e),this.form.controls.selectedShippingMethod.setValue(e)}onChipChange(e){console.log("on chip change",e),this.form.controls.selectedPayementMethod.setValue(e)}openAdressDialog(){this.dialog.open(Z,{width:"250px",data:{name:this.address}}).afterClosed().subscribe(n=>{console.log("The dialog was closed"),this.address=n,console.log("after chosing address",this.address)})}ngAfterViewInit(){const e=document.createElement("script");e.src="/assets/TeleWebPay.js",document.body.appendChild(e)}ngOnInit(){this.curLang=this.translate.currentLang,this.lngDir="ar"==this.curLang?"rtl":"ltr",this.cartService.getCartItemsGroupById().subscribe(e=>{this.cartItems=e,console.log(this.cartItems)}),this.form.addControl("selectedPayementMethod",this.fb.control("",l.kI.required)),this.form.addControl("selectedShippingMethod",this.fb.control("",l.kI.required)),this.form.addControl("ObjectData",this.fb.control("")),console.log("frm",this.form),this.translate.onLangChange.subscribe(e=>{console.log("Language changed to:",e.lang),this.curLang=this.translate.currentLang,this.lngDir="ar"==this.curLang?"rtl":"ltr"})}submitPayment(){console.log("on submit",this.form.getRawValue()),this.passClientToJavaScript()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(M.N),t.Y36(l.qu),t.Y36(c.uw),t.Y36(m.sK))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-payment"]],decls:36,vars:16,consts:[[3,"dir"],["translate",""],[3,"formGroup"],[1,""],[1,"custome-err"],["formControlName","selectedPayementMethod","aria-label","Color selection",1,"mat-chip-list-stacked",3,"value"],["color","primary",3,"value","click",4,"ngFor","ngForOf"],["formControlName","selectedShippingMethod","aria-label","Color selection",1,"mat-chip-list-stacked",3,"value"],["type","hidden","id","hiddenObjectData","formControlName","ObjectData"],["id","with_webview_btn","onclick","processClient()",2,"display","none"],["id","btn_status",1,"hint",2,"display","none"],["id","TeleMainButton","mat-button","","mat-raised-button","","color","primary",3,"title","disabled","click"],["mat-button",""],["color","primary",3,"value","click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3,"Payment Details"),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"form",2)(6,"mat-card",3)(7,"mat-card-header")(8,"mat-card-subtitle",1),t._uU(9," Payemnt Method "),t.TgZ(10,"span",4),t._uU(11,"*"),t.qZA()()(),t.TgZ(12,"mat-card-content")(13,"mat-chip-list",5),t.YNc(14,A,5,5,"mat-chip",6),t.qZA()()(),t.TgZ(15,"mat-card",3)(16,"mat-card-header")(17,"mat-card-subtitle",1),t._uU(18," Shipping Method"),t.TgZ(19,"span",4),t._uU(20,"*"),t.qZA()()(),t.TgZ(21,"mat-card-content")(22,"mat-chip-list",7),t.YNc(23,T,5,5,"mat-chip",6),t.qZA()()(),t._UZ(24,"input",8),t.qZA()(),t.TgZ(25,"mat-card-actions")(26,"button",9),t._uU(27,"Send info"),t.qZA(),t._UZ(28,"div",10),t.TgZ(29,"button",11),t.NdJ("click",function(){return n.submitPayment()}),t.ALo(30,"translate"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"button",12),t._uU(34),t.ALo(35,"translate"),t.qZA()()()),2&e&&(t.Q6J("dir",n.lngDir),t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(8),t.Q6J("value",n.selectedPayementMethod),t.xp6(1),t.Q6J("ngForOf",n.paymentMethods),t.xp6(8),t.Q6J("value",n.selectedShippingMethod),t.xp6(1),t.Q6J("ngForOf",n.shippingMethods),t.xp6(6),t.s9C("title",t.lcZ(30,10,"Submit")),t.Q6J("disabled",n.form.invalid),t.xp6(2),t.Oqu(t.lcZ(32,12,"Submit")),t.xp6(3),t.hij(" ",t.lcZ(35,14,"Cancel")," "))},dependencies:[g.sg,h.lW,y.Lv,C.Hw,d.a8,d.dk,d.dn,d.n5,d.$j,d.hq,_.qn,_.HS,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,m.Pi,m.X$],styles:[".mat-mdc-chip-set[_ngcontent-%COMP%]{max-width:200px}.custome-err[_ngcontent-%COMP%]{color:#f44336}"]}),a})();var v=i(3215),J=i(9299);const U=[{path:"pay",component:b}];let q=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[v.m,g.ez,J.Bz.forChild(U)]}),a})()}}]);