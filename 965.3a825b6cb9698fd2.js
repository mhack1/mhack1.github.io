"use strict";(self.webpackChunktele_shop_webapp=self.webpackChunktele_shop_webapp||[]).push([[965],{8965:(Q,P,a)=>{a.r(P),a.d(P,{ProductModule:()=>E});var p=a(9299),Z=a(3215),u=a(9019),t=a(4650),y=a(529);let k=(()=>{class i{constructor(e){this.httpClient=e}get(e,r){const n=this.createUrl(e),c=this.createHttpParams(r);return this.httpClient.get(n,{params:c})}post(e,r){const n=this.createUrl(e);return this.httpClient.post(n,r)}postForm(e,r){const n=this.createUrl(e),c=this.createFormData(r);return this.httpClient.post(n,c)}put(e,r){const n=this.createUrl(e);return this.httpClient.put(n,{params:r})}delete(e){const r=this.createUrl(e);return this.httpClient.delete(r)}createUrl(e){return u.N.apiUrl+e}createHttpParams(e){let r=new y.LE;if(!e)return r;for(const n in e)if(e.hasOwnProperty(n)){const c=e[n];if(null==c)continue;r=r.set(n,c+"")}return r}createFormData(e){const r=new FormData;for(const n of Object.keys(e))r.set(n,e[n]??"");return r}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(y.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),C=(()=>{class i{constructor(e){this.api=e,this.mockProductsList={currentPage:1,pageCount:1,pageSize:10,totalItemCount:7,items:[{id:0,name:"Nadic Cream 170 gm",arname:"\u0642\u0634\u0637\u0629 \u0646\u0627\u062f\u0643",price:19,category:"Electronics",description:"\u0642\u0634\u0637\u0629 \u0646\u0627\u062f\u0643 170 \u062c\u0645",primaryImageFileName:"\u0642\u0634\u0637\u0629-\u0646\u0627\u062f\u0643-170\u062c\u0645.png",images:[{fileName:"\u0642\u0634\u0637\u0629-\u0646\u0627\u062f\u0643-170\u062c\u0645.png",isPrimary:!0},{fileName:"\u0642\u0634\u0637\u0629-\u0646\u0627\u062f\u0643-170\u062c\u0645.png",isPrimary:!1}]},{id:1,name:"Sample Product 1",arname:"\u062c\u0628\u0646\u0629 \u062c\u0648\u0644\u062f\u064a",price:19,category:"Electronics",description:"\u062c\u0628\u0646\u0629 \u062c\u0648\u0644\u062f\u064a \u0645\u062b\u0644\u062b 24\u0642-336\u062c\u0645-24",primaryImageFileName:"\u062c\u0628\u0646\u0629-\u062c\u0648\u0644\u062f\u064a-\u0645\u062b\u0644\u062b-24\u0642-336\u062c\u0645-24.png",images:[{fileName:"\u062c\u0628\u0646\u0629-\u062c\u0648\u0644\u062f\u064a-\u0645\u062b\u0644\u062b-24\u0642-336\u062c\u0645-24.png",isPrimary:!0},{fileName:"\u062c\u0628\u0646\u0629-\u062c\u0648\u0644\u062f\u064a-\u0645\u062b\u0644\u062b-24\u0642-336\u062c\u0645-24.png",isPrimary:!1}]},{id:2,name:"Craft Chees",arname:"\u062c\u0628\u0646\u0629 \u0643\u0631\u0627\u0641\u062a",price:29,category:"Clothing",description:"\u062c\u0628\u0646\u0629 \u0643\u0631\u0627\u0641\u062a  \u0634\u064a\u062f\u0631 \u0633\u0647\u0644\u0629 \u0627\u0644\u0641\u062a\u062d 190\u062c\u0645 36 ",primaryImageFileName:"\u062c\u0628\u0646\u0629-\u0643\u0631\u0627\u0641\u062a-\u0634\u064a\u062f\u0631-\u0633\u0647\u0644\u0629-\u0627\u0644\u0641\u062a\u062d-190\u062c\u0645-36.png",images:[{fileName:"\u062c\u0628\u0646\u0629-\u0643\u0631\u0627\u0641\u062a-\u0634\u064a\u062f\u0631-\u0633\u0647\u0644\u0629-\u0627\u0644\u0641\u062a\u062d-190\u062c\u0645-36.png",isPrimary:!0}]},{id:3,name:"Sample Product 3",arname:"\u0645\u0646\u062a\u062c \u062a\u062c\u0631\u064a\u0628\u064a 3   ",price:9,category:"Home & Kitchen",description:"Yet another sample product description",primaryImageFileName:"prod (3).png",images:[{fileName:"prod (3).png",isPrimary:!0}]},{id:4,name:"Sample Product 4",arname:"\u0645\u0646\u062a\u062c \u062a\u062c\u0631\u064a\u0628\u064a 4   ",price:49,category:"Electronics",primaryImageFileName:"prod (4).png",description:"One more sample product description",images:[{fileName:"prod (4).png",isPrimary:!0}]},{id:5,name:"Sample Product 5",arname:"\u0645\u0646\u062a\u062c \u062a\u062c\u0631\u064a\u0628\u064a 5   ",price:39,category:"Clothing",description:"Another product description",primaryImageFileName:"prod (5).png",images:[{fileName:"prod (6).png",isPrimary:!0}]},{id:6,arname:"\u0645\u0646\u062a\u062c \u062a\u062c\u0631\u064a\u0628\u064a 6   ",name:"Sample Product 6",price:59,category:"Electronics",description:"Yet another product description",primaryImageFileName:"prod (6).png",images:[{fileName:"prod (7).png",isPrimary:!0}]},{id:7,arname:"\u0645\u0646\u062a\u062c \u062a\u062c\u0631\u064a\u0628\u064a 7   ",name:"Sample Product 7",price:14,category:"Home & Kitchen",description:"Final sample product description",primaryImageFileName:"prod (7).png",images:[{fileName:"prod (8).png",isPrimary:!0}]}],firstRowOnPage:1,lastRowOnPage:8,hasPreviousPage:!1,hasNextPage:!1}}getList(e){return this.api.get("/catalog/product/getlist",e)}getDetails(e){return this.api.get("/catalog/Product/GetDetails/"+e.id)}getProductsFake(e,r){return this.mockProductsList}getDetailsFake(e){const r=this.mockProductsList.items.find(c=>c.id===e.id);let n;return r&&(n={id:r.id,name:r.name,price:r.price,category:r.category,description:r.description,arname:r.arname,images:r.images}),n}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(k))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var d=a(6895),x=a(5480),O=a(3504),v=a(3414),I=a(7009),m=a(3081),L=a(4859),S=a(445),b=a(7392),s=a(3546);function A(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-card",2),t._UZ(1,"img",3),t.TgZ(2,"mat-card-content")(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()(),t.TgZ(10,"mat-card-actions")(11,"button",4),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addItemToCart())}),t.TgZ(12,"mat-icon"),t._uU(13,"add_shopping_cart"),t.qZA(),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",5),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goBack())}),t.TgZ(17,"mat-icon"),t._uU(18,"storefront"),t.qZA(),t._uU(19),t.ALo(20,"translate"),t.qZA()()()}if(2&i){const e=t.oxw();t.Q6J("dir",e.lngDir),t.xp6(1),t.hYB("src","",e.imagesUrl,"/",e.product.images[0].fileName,"",t.LSH),t.xp6(3),t.Oqu("ar"==e.curLang?e.product.arname:e.product.name),t.xp6(2),t.Oqu(t.xi3(7,8,e.product.price,e.currencySetting)),t.xp6(3),t.hij(" ",e.product.description," "),t.xp6(5),t.hij(" ",t.lcZ(15,11,"Add to cart")," "),t.xp6(5),t.hij(" ",t.lcZ(20,13,"Continue shopping")," ")}}let w=(()=>{class i{constructor(e,r,n,c,l,h,f,W){this.route=e,this.productService=r,this.location=n,this.header=c,this.notifier=l,this.cartService=h,this.snackBar=f,this.translate=W,this.currencySetting=u.N.currency,this.id="",this.quantity=0,this.imagesUrl=u.N.imagesUrl,this.curLang="ar",this.lngDir="rtl"}ngOnInit(){const e=Number(this.route.snapshot.paramMap.get("id"));console.log("curr lang",this.translate.currentLang),this.product=this.productService.getDetailsFake({id:e}),this.header.setHeaderButtonsVisibility(!0),this.lngDir="ar"==this.curLang?"rtl":"ltr"}addItemToCart(){console.log("in add cart"),this.cartService.addToCart(this.product)}setQuantity(e){this.quantity=e}goBack(){this.location.back()}showSuccessSnackBar(){this.snackBar.open("Item successfully added to cart.","Close",{duration:8e3})}showErrorSnackBar(){this.snackBar.open("Failed to add your item to the cart.","Close",{duration:8e3})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.gz),t.Y36(C),t.Y36(d.Ye),t.Y36(x.r),t.Y36(O.l),t.Y36(v.N),t.Y36(I.ux),t.Y36(m.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-details"]],decls:2,vars:1,consts:[["id","container"],["class","product-card",3,"dir",4,"ngIf"],[1,"product-card",3,"dir"],["mat-card-image","","alt","Photo of a product",3,"src"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,A,21,15,"mat-card",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",r.product))},dependencies:[d.O5,L.lW,S.Lv,b.Hw,s.a8,s.dn,s.n5,s.$j,s.hq,s.G2,d.H9,m.X$],styles:[".product-card[_ngcontent-%COMP%]{max-width:400px}button[_ngcontent-%COMP%]{margin:3px!important}mat-card[_ngcontent-%COMP%]{margin:0 1em 2em;border:1px solid lightgray!important}img[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}"]}),i})();var g=a(2289),U=a(727),T=a(2340),Y=a(2971),D=a(2673),M=a(8739),F=a(782);let _=(()=>{class i{transform(e,r){return(e=""+(e=e||"")).length<=r?e:`${e.substring(0,r)}...`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"wordWrap",type:i,pure:!0}),i})();function z(i,o){if(1&i&&t._UZ(0,"i",12),2&i){const e=t.oxw().$implicit;t.Q6J("matBadge",e.cnt)}}function B(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,c=t.oxw();return t.KtG(c.removeFromCart(n))}),t.TgZ(1,"mat-icon",13),t._uU(2,"remove"),t.qZA()()}}const N=function(i){return["/catalog/productdetails",i]};function H(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-grid-tile")(1,"mat-card",4),t._UZ(2,"img",5),t.TgZ(3,"mat-card-content",6)(4,"mat-card-title",7),t._uU(5),t.ALo(6,"wordWrap"),t.qZA(),t.TgZ(7,"mat-card-subtitle"),t._uU(8),t.ALo(9,"currency"),t.qZA()(),t.TgZ(10,"mat-card-actions")(11,"button",8),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.addToCart(c))}),t.TgZ(12,"mat-icon",9),t._uU(13,"add"),t.qZA()(),t.YNc(14,z,1,1,"i",10),t.YNc(15,B,3,0,"button",11),t.qZA()()()}if(2&i){const e=o.$implicit,r=t.oxw();t.xp6(1),t.Q6J("dir",r.lngDir),t.xp6(1),t.hYB("src","",r.imagesUrl,"/",e.primaryImageFileName,"",t.LSH),t.Q6J("routerLink",t.VKq(15,N,e.id)),t.xp6(1),t.Q6J("routerLink",t.VKq(17,N,e.id)),t.xp6(2),t.Oqu("ar"==r.curLang?e.arname:t.xi3(6,9,e.name,35)),t.xp6(3),t.Oqu(t.xi3(9,12,e.price,r.currencySetting)),t.xp6(6),t.Q6J("ngIf",e.cnt&&e.cnt>0),t.xp6(1),t.Q6J("ngIf",e.cnt&&e.cnt>0)}}const J=[{path:"",redirectTo:"products",pathMatch:"full"},{path:"products",component:(()=>{class i{constructor(e,r,n,c,l,h,f){this.route=e,this.breakpointObserver=r,this.productService=n,this.header=c,this.cartService=l,this.translate=h,this.navsvs=f,this.cols=2,this.isCartEmpty=!0,this.length=0,this.pageIndex=0,this.pageSize=10,this.pageSizeOptions=[5,10,20],this.curLang="ar",this.lngDir="rtl",this.imagesUrl=T.N.imagesUrl,this.currencySetting=T.N.currency,this.products=[],this.subscriptions=new U.w0}onToggleLang(e){"ar"===e?(this.translate.use("ar"),this.curLang=e):(this.translate.use("en"),this.curLang="en")}ngAfterViewInit(){const e=document.createElement("script");e.src="/assets/TeleWebListProd.js",document.body.appendChild(e)}ngOnInit(){console.log("in main list prod");const e=this.route.snapshot.queryParams.customeLng;console.log("customeLng",e),e?this.onToggleLang(e):this.translate.currentLang&&(this.curLang=this.translate.currentLang),this.getProductsFake(1,this.pageSize),this.header.setHeaderButtonsVisibility(!0),this.subscriptions.add(this.breakpointObserver.observe([g.u3.Handset,g.u3.Tablet,g.u3.Web]).subscribe(r=>{r.matches&&(this.cols=r.breakpoints["(max-width: 599.98px) and (orientation: portrait)"]||r.breakpoints["(max-width: 599.98px) and (orientation: landscape)"]?2:r.breakpoints["(min-width: 1280px) and (orientation: portrait)"]||r.breakpoints["(min-width: 1280px) and (orientation: landscape)"]?4:3)})),this.lngDir="ar"==this.curLang?"rtl":"ltr",this.cartService.getCartAmount().subscribe(r=>{this.isCartEmpty=!(r>0),console.log("isCartEmpty",this.isCartEmpty)}),window.navigateToSubpage=()=>{this.navsvs.navigateToSubpage("/#/cart/cart")},this.translate.onLangChange.subscribe(r=>{console.log("Language changed to:",r.lang),this.curLang=this.translate.currentLang,this.lngDir="ar"==this.curLang?"rtl":"ltr"})}getProductsFake(e,r){let n=this.productService.getProductsFake(e,r);this.products=n.items,this.length=n.totalItemCount+1}getProducts(e,r){console.log("product-list.getProducts()"),this.productService.getList({page:e,pageSize:r}).subscribe(n=>{console.log(`received ${n.totalItemCount} products.`),this.products=n.items,this.length=n.totalItemCount})}loadPage(e){console.log("klfhsla"),this.getProductsFake(e.pageIndex+1,e.pageSize)}trackProduct(e,r){return`${r.id}-${e}`}addToCart(e){const r=this.products.filter(n=>n.id==e.id);console.log("in add cart"),r&&(r[0].cnt&&(r[0].cnt=Number(r[0].cnt)+1),r[0].cnt||(r[0].cnt=1)),this.cartService.addToCart(e)}removeFromCart(e){this.cartService.removeFromCart(e);const r=this.products.filter(n=>n.id==e.id);r&&(r[0].cnt&&(r[0].cnt=Number(r[0].cnt)-1),r[0].cnt||(r[0].cnt=0))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.gz),t.Y36(g.Yg),t.Y36(C),t.Y36(x.r),t.Y36(v.N),t.Y36(m.sK),t.Y36(Y.u))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-list"]],decls:5,vars:11,consts:[["rowHeight","250px","gutterSize","10px",1,"grid-layout",3,"cols"],[4,"ngFor","ngForOf","ngForTrackBy"],["id","TeleMainButton",2,"display","none",3,"disabled","title"],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],[3,"dir"],["id","card-image show-pointer","title","click to show the details","mat-card-image","","alt","product photo",3,"src","routerLink"],["title","click to show the details",1,"show-pointer",3,"routerLink"],[1,"small-text"],["mat-icon-button","",3,"click"],["color","primary"],[3,"matBadge",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[3,"matBadge"],["color","warn"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-grid-list",0),t.YNc(1,H,16,19,"mat-grid-tile",1),t.qZA(),t._UZ(2,"button",2),t.ALo(3,"translate"),t.TgZ(4,"mat-paginator",3),t.NdJ("page",function(c){return r.loadPage(c)}),t.qZA()),2&e&&(t.s9C("cols",r.cols),t.xp6(1),t.Q6J("ngForOf",r.products)("ngForTrackBy",r.trackProduct),t.xp6(1),t.s9C("title",t.lcZ(3,9,"Cart Details")),t.Q6J("disabled",r.isCartEmpty),t.xp6(2),t.Q6J("length",r.length)("pageIndex",r.pageIndex)("pageSize",r.pageSize)("pageSizeOptions",r.pageSizeOptions))},dependencies:[d.sg,d.O5,L.lW,S.Lv,b.Hw,D.k,M.NW,F.Il,F.DX,s.a8,s.dn,s.n5,s.$j,s.hq,s.G2,p.rH,d.H9,_,m.X$],styles:["mat-grid-list[_ngcontent-%COMP%]{margin:2em 2em 0}mat-card[_ngcontent-%COMP%]{border:1px solid lightgray!important;display:flex;flex-direction:column;max-height:200px;max-width:125px;align-items:center}.mat-card-content[_ngcontent-%COMP%]{margin-bottom:1px}.mat-card-image[_ngcontent-%COMP%]:first-child{margin-top:-10px}.mat-card-image[_ngcontent-%COMP%]{margin:0 0 1px;cursor:pointer}img[_ngcontent-%COMP%]{max-width:140px;max-height:145px;border-bottom:1px solid lightgray;padding-bottom:5px}.grid-layout[_ngcontent-%COMP%]{width:80vw}.small-text[_ngcontent-%COMP%]{font-size:12px}.show-pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),i})()},{path:"productdetails/:id",component:w},{path:"ar",component:(()=>{class i{constructor(e){this.router=e}ngOnInit(){this.router.navigate(["/catalog/products"],{queryParams:{customeLng:"ar"}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-prod-list-redirect"]],decls:2,vars:0,template:function(e,r){1&e&&(t.TgZ(0,"p"),t._uU(1,"prod-list-redirect works!"),t.qZA())}}),i})()}];let E=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[Z.m,p.Bz.forChild(J)]}),i})()}}]);