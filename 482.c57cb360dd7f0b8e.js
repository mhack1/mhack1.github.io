"use strict";(self.webpackChunkargo_shop_material=self.webpackChunkargo_shop_material||[]).push([[482],{9482:(P,u,s)=>{s.r(u),s.d(u,{PaymentModule:()=>q});var m=s(6895),i=s(4006),c=s(5412),e=s(4541),g=s(4859),h=s(7392),f=s(4144);let C=(()=>{class o{constructor(t,n){this.dialogRef=t,this.data=n}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.so),e.Y36(c.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-address"]],decls:41,vars:10,consts:[["id","swal2-html-container",1,"swal2-html-container",2,"display","block"],["id","name","matInput","","placeholder","Enter name",1,"form-control",3,"ngModel","ngModelChange"],["id","useremail","matInput","","type","email","placeholder","Enter email address",1,"my-3","form-control",3,"ngModel","ngModelChange"],["id","usermobile","matInput","","type","number","placeholder","Enter mobile number",1,"my-3","form-control",3,"ngModel","ngModelChange"],["matInput","","placeholder","Enter your address","id","address_1",1,"form-control","mt-3","mb-3",3,"ngModel","ngModelChange"],["href","javascript:;","title"," Request Location","onclick","return AppInteract.requestLocation(this);"],["placeholder","Enter your address 2 (optional)","matInput","","id","address_2",1,"form-control","mt-3","mb-3",3,"ngModel","ngModelChange"],["id","country_id","matInput","",1,"form-control","mt-3","mb-3",3,"ngModel","ngModelChange"],["value","14"],["value","19"],["value","40"],["value","103"],["value","121"],["value","197"],["value","231"],["value","237"],["value","238"],["value","239"],["id","add_address_state","matInput","",1,"form-control","mt-3","mb-3",3,"ngModel","ngModelChange"],["id","city","matInput","","placeholder","Enter city",1,"form-control",3,"ngModel","ngModelChange"],["id","postcode","matInput","","placeholder","Enter postcode",1,"form-control","mt-3","mb-3",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"input",1),e.NdJ("ngModelChange",function(a){return n.data.name=a}),e.qZA(),e.TgZ(2,"input",2),e.NdJ("ngModelChange",function(a){return n.data.useremail=a}),e.qZA(),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(a){return n.data.usermobile=a}),e.qZA(),e.TgZ(4,"textarea",4),e.NdJ("ngModelChange",function(a){return n.data.address_1=a}),e.qZA(),e.TgZ(5,"a",5)(6,"mat-icon"),e._uU(7,"my_location"),e.qZA()(),e._UZ(8,"span"),e.TgZ(9,"textarea",6),e.NdJ("ngModelChange",function(a){return n.data.address_2=a}),e.qZA(),e.TgZ(10,"select",7),e.NdJ("ngModelChange",function(a){return n.data.country_id=a}),e.TgZ(11,"option"),e._uU(12,"Select Country"),e.qZA(),e.TgZ(13,"option",8),e._uU(14,"Australia"),e.qZA(),e.TgZ(15,"option",9),e._uU(16,"Bangladesh"),e.qZA(),e.TgZ(17,"option",10),e._uU(18,"Canada"),e.qZA(),e.TgZ(19,"option",11),e._uU(20,"India"),e.qZA(),e.TgZ(21,"option",12),e._uU(22,"Kuwait"),e.qZA(),e.TgZ(23,"option",13),e._uU(24,"Saudi Arabia"),e.qZA(),e.TgZ(25,"option",14),e._uU(26,"Turkey"),e.qZA(),e.TgZ(27,"option",15),e._uU(28,"United Arab Emirates"),e.qZA(),e.TgZ(29,"option",16),e._uU(30,"United Kingdom"),e.qZA(),e.TgZ(31,"option",17),e._uU(32,"United States"),e.qZA()(),e.TgZ(33,"input",18),e.NdJ("ngModelChange",function(a){return n.data.add_address_state=a}),e.qZA(),e.TgZ(34,"input",19),e.NdJ("ngModelChange",function(a){return n.data.city=a}),e.qZA(),e.TgZ(35,"input",20),e.NdJ("ngModelChange",function(a){return n.data.postcode=a}),e.qZA()(),e.TgZ(36,"div",21)(37,"button",22),e.NdJ("click",function(){return n.onNoClick()}),e._uU(38,"No Thanks"),e.qZA(),e.TgZ(39,"button",23),e._uU(40,"Ok"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngModel",n.data.name),e.xp6(1),e.Q6J("ngModel",n.data.useremail),e.xp6(1),e.Q6J("ngModel",n.data.usermobile),e.xp6(1),e.Q6J("ngModel",n.data.address_1),e.xp6(5),e.Q6J("ngModel",n.data.address_2),e.xp6(1),e.Q6J("ngModel",n.data.country_id),e.xp6(23),e.Q6J("ngModel",n.data.add_address_state),e.xp6(1),e.Q6J("ngModel",n.data.city),e.xp6(1),e.Q6J("ngModel",n.data.postcode),e.xp6(4),e.Q6J("mat-dialog-close",n.data))},dependencies:[g.lW,h.Hw,f.Nt,c.ZT,c.H8,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.On]}),o})();var Z=s(3414),l=s(3546),_=s(7331);function y(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-chip",15),e.NdJ("click",function(){const a=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.onChipChange(a.name))}),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=r.$implicit;e.Q6J("value",t.name),e.xp6(2),e.Oqu(t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function T(o,r){1&o&&(e.TgZ(0,"p"),e._uU(1,"Please add your address to continue"),e.qZA())}function M(o,r){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e._UZ(2,"br"),e._uU(3),e._UZ(4,"br"),e._uU(5),e._UZ(6,"br"),e._uU(7),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij("",t.address.name," "),e.xp6(2),e.hij(" ",t.address.useremail," "),e.xp6(2),e.hij(" ",t.address.city," "),e.xp6(2),e.hij(" ",t.address.address_1," ")}}function A(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-chip",15),e.NdJ("click",function(){const a=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.onChipShippingChange(a.name))}),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=r.$implicit;e.Q6J("value",t.name),e.xp6(2),e.Oqu(t.icon),e.xp6(1),e.hij(" ",t.name," ")}}let b=(()=>{class o{constructor(t,n,d){this.cartService=t,this.fb=n,this.dialog=d,this.cartItems=[],this.flagOnSumitProcess=!1,this.availableColors=[{name:"none",color:void 0},{name:"Primary",color:"primary"},{name:"Accent",color:"accent"},{name:"Warn",color:"warn"}],this.shippingMethods=[{name:"From Store",icon:"directions_walk",cost:0},{name:"Dilivery Service",icon:"local_shipping",cost:200}],this.paymentMethods=[{name:"Cash",icon:"attach_money"},{name:"Mobile Money",icon:"account_balance_wallet"},{name:"Wallet C",icon:"account_balance"}],this.selectedPayementMethod="",this.selectedShippingMethod="",this.form=this.fb.group({})}passClientToJavaScript(){const t={payemntInfo:this.form.getRawValue(),cartItems:this.cartItems},n=JSON.stringify(t);this.form.controls.ObjectData.setValue(n)}onChipShippingChange(t){console.log("on chip change",t),this.form.controls.selectedShippingMethod.setValue(t)}onChipChange(t){console.log("on chip change",t),this.form.controls.selectedPayementMethod.setValue(t)}openAdressDialog(){this.dialog.open(C,{width:"250px",data:{name:this.address}}).afterClosed().subscribe(n=>{console.log("The dialog was closed"),this.address=n,console.log("after chosing address",this.address)})}ngOnInit(){this.cartService.getCartItemsGroupById().subscribe(t=>{this.cartItems=t,console.log(this.cartItems)}),this.form.addControl("selectedPayementMethod",this.fb.control("",i.kI.required)),this.form.addControl("selectedShippingMethod",this.fb.control("",i.kI.required)),this.form.addControl("ObjectData",this.fb.control("")),console.log("frm",this.form)}submitPayment(){console.log("on submit",this.form.getRawValue()),this.passClientToJavaScript(),this.flagOnSumitProcess=!0,document.getElementById("with_webview_btn")?.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.N),e.Y36(i.qu),e.Y36(c.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-payment"]],decls:47,vars:8,consts:[[3,"formGroup"],[1,""],[1,"custome-err"],["formControlName","selectedPayementMethod","aria-label","Color selection",1,"mat-chip-list-stacked",3,"value"],["color","primary",3,"value","click",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","",3,"click"],["color","primary"],[4,"ngIf"],["formControlName","selectedShippingMethod","aria-label","Color selection",1,"mat-chip-list-stacked",3,"value"],["type","hidden","id","hiddenObjectData","formControlName","ObjectData"],["id","with_webview_btn","onclick","processClient()",2,"display","none"],["id","btn_status",1,"hint",2,"display","none"],["mat-button","","mat-raised-button","","color","primary","translate","",3,"disabled","click"],["mat-button",""],["color","primary",3,"value","click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"Payment Details"),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"form",0)(6,"mat-card",1)(7,"mat-card-header")(8,"mat-card-subtitle"),e._uU(9," Payemnt Method "),e.TgZ(10,"span",2),e._uU(11,"*"),e.qZA()()(),e.TgZ(12,"mat-card-content")(13,"mat-chip-list",3),e.YNc(14,y,4,3,"mat-chip",4),e.qZA()()(),e.TgZ(15,"mat-card",1)(16,"mat-card-header")(17,"mat-card-subtitle"),e._uU(18,"Delivery Address"),e.TgZ(19,"span",2),e._uU(20,"*"),e.qZA()()(),e.TgZ(21,"mat-card-actions",5)(22,"button",6),e.NdJ("click",function(){return n.openAdressDialog()}),e._uU(23,"Add Address "),e.TgZ(24,"mat-icon",7),e._uU(25,"add"),e.qZA()()(),e.TgZ(26,"mat-card-content"),e.YNc(27,T,2,0,"p",8),e.YNc(28,M,8,4,"p",8),e.qZA()(),e.TgZ(29,"mat-card",1)(30,"mat-card-header")(31,"mat-card-subtitle"),e._uU(32," Shipping Method"),e.TgZ(33,"span",2),e._uU(34,"*"),e.qZA()()(),e.TgZ(35,"mat-card-content")(36,"mat-chip-list",9),e.YNc(37,A,4,3,"mat-chip",4),e.qZA()()(),e._UZ(38,"input",10),e.qZA()(),e.TgZ(39,"mat-card-actions")(40,"button",11),e._uU(41,"Send info"),e.qZA(),e._UZ(42,"div",12),e.TgZ(43,"button",13),e.NdJ("click",function(){return n.submitPayment()}),e._uU(44,"Submit"),e.qZA(),e.TgZ(45,"button",14),e._uU(46," cancel "),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",n.form),e.xp6(8),e.Q6J("value",n.selectedPayementMethod),e.xp6(1),e.Q6J("ngForOf",n.paymentMethods),e.xp6(13),e.Q6J("ngIf",!n.address),e.xp6(1),e.Q6J("ngIf",n.address),e.xp6(8),e.Q6J("value",n.selectedShippingMethod),e.xp6(1),e.Q6J("ngForOf",n.shippingMethods),e.xp6(6),e.Q6J("disabled",n.form.invalid||!n.address))},dependencies:[m.sg,m.O5,g.lW,h.Hw,l.a8,l.dk,l.dn,l.n5,l.$j,l.hq,_.qn,_.HS,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".mat-mdc-chip-set[_ngcontent-%COMP%]{max-width:200px}.custome-err[_ngcontent-%COMP%]{color:#f44336}"]}),o})();var v=s(3215),J=s(1635);const U=[{path:"pay",component:b}];let q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[v.m,m.ez,J.Bz.forChild(U)]}),o})()}}]);